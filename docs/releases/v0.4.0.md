# Release Notes: v0.4.0

**Release Date:** 2026-01-25

## Highlights

- Schema codegen pipeline: Go types are now the source of truth
- New deployment platforms: Gemini CLI, ADK Go, CrewAI, AutoGen
- TypeScript SDK auto-generated from JSON Schema

## What's New

### Codegen Pipeline

Go types are now the source of truth for all schemas:

1. Define types in Go SDK
2. Generate JSON Schema using `invopop/jsonschema`
3. Generate TypeScript/Zod from JSON Schema

```
Go types → JSON Schema → TypeScript/Zod
```

- `tools/generate/` - Go schema generator
- `sdk/typescript/scripts/generate-schemas.mjs` - TypeScript/Zod generator
- `Makefile` - Orchestrates full codegen pipeline

### New Deployment Platforms

| Platform | Config Type |
|----------|-------------|
| Gemini CLI | `GeminiCLIConfig` |
| ADK Go | `ADKGoConfig` |
| CrewAI | `CrewAIConfig` |
| AutoGen | `AutoGenConfig` |

### Deployment Enhancements

- `RuntimeConfig` - Runtime configuration for deployment targets
- `StepRuntime` - Per-step runtime overrides
- `RetryPolicy` - Retry configuration
- `ObservabilityConfig` - Logging, metrics, tracing settings

### Go SDK

- `JSONSchema()` methods on enum types for proper schema generation
- Typed platform config fields on `Target`
- `Icon` field in agent schema

### Breaking Changes

- **Go SDK**: `Target.Config json.RawMessage` replaced with typed config fields
- TypeScript SDK now auto-generated (manual `schemas.ts` removed)

### Fixed

- Report table alignment (boxWidth 76→78)
- Python SDK missing `__init__.py` files

## Installation

### Go SDK

```bash
go get github.com/plexusone/multi-agent-spec/sdk/go@v0.4.0
```

### TypeScript SDK

```bash
npm install @plexusone/multi-agent-spec@0.4.0
```

## Migration Guide

### Go SDK: Target Config

Before (v0.3.x):

```go
target := &mas.Target{
    Platform: mas.PlatformClaudeCode,
    Config:   json.RawMessage(`{"model": "sonnet"}`),
}
```

After (v0.4.0):

```go
target := &mas.Target{
    Platform: mas.PlatformClaudeCode,
    ClaudeCode: &mas.ClaudeCodeConfig{
        Model: "sonnet",
    },
}
```
